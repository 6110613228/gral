description = 'GRAL core'

dependencies {
	testCompile group: 'junit', name: 'junit', version:'4.10'
}

apply plugin: "checkstyle"

checkstyle {
	configFile = new File("${projectDir}/src/etc/checkstyle.xml")
}

buildscript {
	apply from: 'https://github.com/valkolovos/gradle_cobertura/raw/master/repo/gradle_cobertura/gradle_cobertura/1.0/coberturainit.gradle'
}

task report(dependsOn: "cobertura") {
	description = "Generates reports."
}

apply plugin: "distribution"
distributions {
	main {
		contents {
			from(rootDir) {
				include("CHANGES")
				include("README")
			}
			from(projectDir) {
				include("src/**")
			}
			into("doc") {
				into("javadoc") {
					from javadoc
				}
				into("rst") {
					from("${projectDir}/src/rst")
				}
			}
			into("lib") {
				from jar
				from configurations.runtime
			}
		}
	}
}
